# ECDICT 词典数据导入指南

## 准备工作

### 1. 安装 Python 依赖

```bash
cd scripts
pip install -r requirements.txt
```

### 2. 准备 CSV 文件

确保 `ecdict.csv` 文件已下载并放在以下位置之一：
- `F:\n8n\Project\StarSpeak\StarSpeak\ecdict.csv`（你当前的位置）
- 项目根目录
- 或运行时手动输入路径

## 导入步骤

### 运行导入脚本

```bash
# 在项目根目录运行
python scripts/import_dictionary.py
```

### 导入过程

1. 脚本会自动检测数据库连接
2. 查找 CSV 文件
3. 显示确认提示
4. 批量导入数据（每批 500 条）
5. 显示进度和结果

### 预计时间

- **76 万条数据**预计需要 **30-60 分钟**（取决于网络速度）
- 脚本会自动处理重复数据
- 可以随时中断（Ctrl+C），已导入的数据会保留

## 注意事项

⚠️ **重要提示：**

1. **网络稳定性**：确保网络连接稳定
2. **重复运行**：可以多次运行脚本，重复的单词会被跳过
3. **错误处理**：如果某批次失败，脚本会尝试逐条插入
4. **数据验证**：导入完成后会显示数据库中的总记录数

## 常见问题

### Q: 导入中断了怎么办？
A: 可以直接重新运行脚本，已导入的数据不会重复插入。

### Q: 导入失败怎么办？
A: 检查网络连接和 Supabase 配置，然后重新运行。

### Q: 如何验证导入成功？
A: 脚本结束时会显示数据库中的总记录数，也可以在前端查词验证。

## 下一步

导入完成后，前端的离线查词功能会自动从数据库读取数据。
